import{aj as b}from"./index.7a7c1c93.js";import{w as _}from"./index.89c48c29.js";import{i as r,h as x,z as d}from"./idb.218ef653.js";function S(t){const s=t-1;return s*s*s+1}function j(t,{from:s,to:c},p={}){const u=getComputedStyle(t),w=u.transform==="none"?"":u.transform,[f,m]=u.transformOrigin.split(" ").map(parseFloat),h=s.left+s.width*f/c.width-(c.left+f),e=s.top+s.height*m/c.height-(c.top+m),{delay:n=0,duration:o=i=>Math.sqrt(i)*120,easing:a=S}=p;return{delay:n,duration:b(o)?o(Math.sqrt(h*h+e*e)):o,easing:a,css:(i,l)=>{const g=l*h,y=l*e,M=i+l*s.width/c.width,v=i+l*s.height/c.height;return`transform: ${w} translate(${g}px, ${y}px) scale(${M}, ${v});`}}}const q={duration:4e3,initial:1,next:0,pausable:!1,dismissable:!0,reversed:!1,intro:{x:256}};function T(){const{subscribe:t,update:s}=_(new Array),c={};let p=0;function u(e){return e instanceof Object}function w(e="default",n={}){return c[e]=n,c}function f(e,n){const o={target:"default",...u(e)?e:{...n,msg:e}},a=c[o.target]||{},i={...q,...a,...o,theme:{...a.theme,...o.theme},classes:[...a.classes||[],...o.classes||[]],id:++p};return s(l=>i.reversed?[...l,i]:[i,...l]),p}function m(e){s(n=>{if(!n.length||e===0)return[];if(typeof e=="function")return n.filter(a=>e(a));if(u(e))return n.filter(a=>a.target!==e.target);const o=e||Math.max(...n.map(a=>a.id));return n.filter(a=>a.id!==o)})}function h(e,n){const o=u(e)?e:{...n,id:e};s(a=>{const i=a.findIndex(l=>l.id===o.id);return i>-1&&(a[i]={...a[i],...o}),a})}return{subscribe:t,push:f,pop:m,set:h,_init:w}}const H=T();const P=async()=>{await r.systemInfo.put({name:"lastUpdated",value:x().format("YYYY-MM-DD")})},V=async t=>{await r.settings.put({name:"shortHeightMode",value:t})},W=async t=>{await r.settings.put({name:"showCharacterPreview",value:t})},Y=async t=>{await r.settings.put({name:"showMemo",value:t})},O=async t=>{await r.settings.put({name:"memo",value:t})},k=async t=>{await r.settings.put({name:"selectedWorldId",value:t})},z=async t=>{await r.settings.put({name:"characterTabViewMode",value:t})},D=d(async()=>{var t;return(t=await r.settings.get("showCharacterPreview"))==null?void 0:t.value}),U=d(async()=>{var t;return(t=await r.settings.get("shortHeightMode"))==null?void 0:t.value}),A=d(async()=>{var t;return((t=await r.settings.get("showMemo"))==null?void 0:t.value)??!1}),F=d(async()=>{var t;return((t=await r.settings.get("memo"))==null?void 0:t.value)??""}),L=d(async()=>{var t;return((t=await r.settings.get("selectedWorldId"))==null?void 0:t.value)??1}),B=d(async()=>{var t;return((t=await r.settings.get("characterTabViewMode"))==null?void 0:t.value)??"card"});export{k as a,z as b,S as c,B as d,U as e,j as f,D as g,A as h,V as i,W as j,Y as k,L as l,F as m,O as n,H as t,P as u};
